
pipeline {
    
    agent {   
          docker {
               image 'nginx:latest'
               args '-p 80:80 -v /./:/usr/share/nginx/html'
               }
          }
  
  
    stages {
      
     
          stage('Build') {
              steps {
                  echo 'Building'
                  sh 'pwd'
                  sh 'ls -la'
                  sh "nginx -v"
                  
                  
              }
          }
          
          stage('Test') {
              steps {
              sh 'cd /usr/share/nginx/html'
              sh 'ls -l'
              sh 'hostname'
              
              sh 'tail -f /dev/null'
  
              }
          }
      
  
          stage('Deploy') {
              steps {
              echo '4'
              }
          }
      }
  }